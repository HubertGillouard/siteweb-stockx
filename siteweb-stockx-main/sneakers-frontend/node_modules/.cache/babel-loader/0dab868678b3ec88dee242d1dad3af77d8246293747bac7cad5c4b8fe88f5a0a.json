{"ast":null,"code":"var _jsxFileName = \"/home/hubert/siteweb-stockx-main/sneakers-frontend/src/pages/Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getProducts } from \"../api/api\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  var _query$get;\n  const [products, setProducts] = useState([]);\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const searchTerm = ((_query$get = query.get(\"search\")) === null || _query$get === void 0 ? void 0 : _query$get.toLowerCase()) || \"\";\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await getProducts();\n        const data = res.data.map(p => {\n          var _p$images, _p$images$;\n          return {\n            ...p,\n            price: Number(p.price),\n            // évite l'erreur price.toFixed\n            link: ((_p$images = p.images) === null || _p$images === void 0 ? void 0 : (_p$images$ = _p$images[0]) === null || _p$images$ === void 0 ? void 0 : _p$images$.url) || \"/placeholder.jpg\"\n          };\n        });\n        setProducts(data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchProducts();\n  }, []);\n  const filteredProducts = products.filter(p => p.name.toLowerCase().includes(searchTerm));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Nos Sneakers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\n        gap: \"1rem\"\n      },\n      children: filteredProducts.map(p => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${p.id}`,\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: p.link,\n          alt: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: p.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [p.price.toFixed(2), \" \\u20AC\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"PD3DWmFWErnR1fxmstRM44hPOVk=\", false, function () {\n  return [useLocation];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","getProducts","useLocation","Link","jsxDEV","_jsxDEV","Home","_s","_query$get","products","setProducts","location","query","URLSearchParams","search","searchTerm","get","toLowerCase","fetchProducts","res","data","map","p","_p$images","_p$images$","price","Number","link","images","url","err","console","error","filteredProducts","filter","name","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gridTemplateColumns","gap","to","id","src","alt","toFixed","_c","$RefreshReg$"],"sources":["/home/hubert/siteweb-stockx-main/sneakers-frontend/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getProducts } from \"../api/api\";\nimport { useLocation, Link } from \"react-router-dom\";\n\nexport default function Home() {\n  const [products, setProducts] = useState([]);\n  const location = useLocation();\n\n  const query = new URLSearchParams(location.search);\n  const searchTerm = query.get(\"search\")?.toLowerCase() || \"\";\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await getProducts();\n        const data = res.data.map(p => ({\n          ...p,\n          price: Number(p.price), // évite l'erreur price.toFixed\n          link: p.images?.[0]?.url || \"/placeholder.jpg\"\n        }));\n        setProducts(data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  const filteredProducts = products.filter(p =>\n    p.name.toLowerCase().includes(searchTerm)\n  );\n\n  return (\n    <div className=\"container\">\n      <h1>Nos Sneakers</h1>\n      <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\", gap: \"1rem\" }}>\n        {filteredProducts.map(p => (\n          <Link key={p.id} to={`/product/${p.id}`} className=\"product-card\">\n            <img src={p.link} alt={p.name} />\n            <div className=\"product-card-content\">\n              <h2>{p.name}</h2>\n              <p>{p.price.toFixed(2)} €</p>\n            </div>\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}