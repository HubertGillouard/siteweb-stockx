{"ast":null,"code":"var _jsxFileName = \"/home/hubert/siteweb-stockx-main/sneakers-frontend/src/components/ProductDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { getProduct, getVariants } from \"../api/api\";\nimport { useParams } from \"react-router-dom\";\nimport { Typography, Button, Select, MenuItem } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductDetail() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [product, setProduct] = useState(null);\n  const [variants, setVariants] = useState([]);\n  const [selectedVariant, setSelectedVariant] = useState(null);\n  const [qty, setQty] = useState(1);\n  const {\n    addToCart\n  } = useContext(CartContext);\n  useEffect(() => {\n    getProduct(id).then(res => setProduct(res.data));\n    getVariants(id).then(res => setVariants(res.data));\n  }, [id]);\n  const handleAdd = () => {\n    if (!selectedVariant) return alert(\"Sélectionne une variante\");\n    addToCart({\n      variant: selectedVariant,\n      qty\n    });\n  };\n  if (!product) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"Chargement...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      children: product.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      children: product.brand\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.image || \"https://via.placeholder.com/400\",\n      alt: product.name,\n      height: 300\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: [\"$\", product.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      value: (selectedVariant === null || selectedVariant === void 0 ? void 0 : selectedVariant.id) || \"\",\n      onChange: e => setSelectedVariant(variants.find(v => v.id === e.target.value)),\n      children: variants.map(v => /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: v.id,\n        children: [v.size, \" - \", v.color]\n      }, v.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      min: \"1\",\n      value: qty,\n      onChange: e => setQty(Number(e.target.value)),\n      style: {\n        width: \"60px\",\n        marginLeft: \"10px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleAdd,\n      style: {\n        marginLeft: \"10px\"\n      },\n      children: \"Ajouter au panier\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductDetail, \"FXDp0ummkiItgDrgfVR7x+lOc1Y=\", false, function () {\n  return [useParams];\n});\n_c = ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useEffect","useState","useContext","getProduct","getVariants","useParams","Typography","Button","Select","MenuItem","jsxDEV","_jsxDEV","ProductDetail","_s","id","product","setProduct","variants","setVariants","selectedVariant","setSelectedVariant","qty","setQty","addToCart","CartContext","then","res","data","handleAdd","alert","variant","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","name","brand","src","image","alt","height","price","value","onChange","e","find","v","target","map","size","color","type","min","Number","width","marginLeft","onClick","_c","$RefreshReg$"],"sources":["/home/hubert/siteweb-stockx-main/sneakers-frontend/src/components/ProductDetail.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { getProduct, getVariants } from \"../api/api\";\nimport { useParams } from \"react-router-dom\";\nimport { Typography, Button, Select, MenuItem } from \"@mui/material\";\n\nexport default function ProductDetail() {\n  const { id } = useParams();\n  const [product, setProduct] = useState(null);\n  const [variants, setVariants] = useState([]);\n  const [selectedVariant, setSelectedVariant] = useState(null);\n  const [qty, setQty] = useState(1);\n  const { addToCart } = useContext(CartContext);\n\n  useEffect(() => {\n    getProduct(id).then(res => setProduct(res.data));\n    getVariants(id).then(res => setVariants(res.data));\n  }, [id]);\n\n  const handleAdd = () => {\n    if (!selectedVariant) return alert(\"Sélectionne une variante\");\n    addToCart({ variant: selectedVariant, qty });\n  };\n\n  if (!product) return <Typography>Chargement...</Typography>;\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <Typography variant=\"h4\">{product.name}</Typography>\n      <Typography variant=\"h6\">{product.brand}</Typography>\n      <img src={product.image || \"https://via.placeholder.com/400\"} alt={product.name} height={300} />\n      <Typography variant=\"h5\">${product.price}</Typography>\n\n      <Select\n        value={selectedVariant?.id || \"\"}\n        onChange={(e) => setSelectedVariant(variants.find(v => v.id === e.target.value))}\n      >\n        {variants.map(v => (\n          <MenuItem key={v.id} value={v.id}>\n            {v.size} - {v.color}\n          </MenuItem>\n        ))}\n      </Select>\n\n      <input\n        type=\"number\"\n        min=\"1\"\n        value={qty}\n        onChange={(e) => setQty(Number(e.target.value))}\n        style={{ width: \"60px\", marginLeft: \"10px\" }}\n      />\n      <Button variant=\"contained\" onClick={handleAdd} style={{ marginLeft: \"10px\" }}>\n        Ajouter au panier\n      </Button>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}